{"version":3,"sources":["webpack:///./node_modules/@jeetiss/react-any-integrate/dist/index-esm.js","webpack:///./src/integrations/codepen.js","webpack:///./src/integrations/hello-world.js","webpack:///./src/integrations/widget.js","webpack:///./src/integrations/with-error.js","webpack:///./src/integrations/zapier.js","webpack:///./src/pages/index.js"],"names":["useLatestRef","value","ref","Object","react","current","merge","state","newState","runRef","args","merge$1","prev","next","Integration","src","children","setState","loading","error","url","onLoad","onError","onComplete","loaded","savedLoad","savedError","savedComplete","script","document","createElement","async","loadedFine","loadedWithError","addEventListener","body","appendChild","removeEventListener","parentNode","removeChild","useScript","map","child","index","key","Loading","Error","Initial","CodePen","_ref","slug","title","user","_ref$height","height","_ref$preview","preview","_ref$defaultTab","defaultTab","_ref$version","version","_ref$themeId","themeId","react_default","a","data-height","data-theme-id","data-slug-hash","data-default-tab","data-user","data-embed-version","data-pen-title","data-preview","className","href","HelloWorld","id","Widget","useEffect","window","UPLOADCARE_PUBLIC_KEY","type","role","data-clearable","WithError","ZapBook","zaps","join","IndexPage","style","maxWidth","margin","hello_world_HelloWorld","codepen_CodePen","zapier_ZapBook","widget_Widget","with_error_WithError"],"mappings":"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","file":"component---src-pages-index-js-93bb36d530b727cfc3bc.js","sourcesContent":["import { useReducer, useEffect, useRef, Children, cloneElement } from 'react';\n\nconst useLatestRef = value => {\n  const ref = useRef(value);\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref\n};\n\n// eslint-disable-next-line object-property-newline\nconst merge = (state, newState) => ({...state, ...newState});\nconst runRef = (ref, args) => ref.current && ref.current(...args);\n\nconst useScript = (url, {onLoad, onError, onComplete} = {}) => {\n  const [{loaded, error}, setState] = useReducer(merge, {\n    loaded: false,\n    error: null,\n  });\n\n  const savedLoad = useLatestRef(onLoad);\n  const savedError = useLatestRef(onError);\n  const savedComplete = useLatestRef(onComplete);\n\n  useEffect(() => {\n    const script = document.createElement('script');\n\n    script.src = url;\n    script.async = 1;\n\n    const loadedFine = () => {\n      setState({loaded: true});\n      runRef(savedLoad);\n      runRef(savedComplete);\n    };\n\n    const loadedWithError = error => {\n      setState({error});\n      runRef(savedError, [error]);\n      runRef(savedComplete);\n    };\n\n    script.addEventListener('load', loadedFine);\n    script.addEventListener('error', loadedWithError);\n    document.body.appendChild(script);\n\n    return () => {\n      script.removeEventListener('load', loadedFine);\n      script.removeEventListener('error', loadedWithError);\n      script.parentNode.removeChild(script);\n    }\n  }, [savedComplete, savedError, savedLoad, url]);\n\n  return [loaded, error]\n};\n\nconst merge$1 = (prev, next) => ({ ...prev, ...next });\n\nconst Integration = ({ src, children }) => {\n  const [state, setState] = useReducer(merge$1, { loading: true, error: null });\n\n  useScript(src, {\n    onLoad: () => setState({ loading: false }),\n    onError: () => setState({ error: true })\n  });\n\n  return Children.map(children, (child, index) =>\n    cloneElement(child, { state, key: index })\n  );\n};\n\nconst Loading = ({ state, children }) => (state.loading ? children : null);\nconst Error = ({ state, children }) => (state.error ? children : null);\n\nconst Initial = ({ state, children }) =>\n  !state.error ? children : null;\n\nexport { Error, Initial, Integration, Loading };\n","import React from \"react\"\nimport {\n  Integration,\n  Initial,\n  Error,\n  Loading,\n} from \"@jeetiss/react-any-integrate\"\n\nexport const CodePen = ({\n  slug,\n  title,\n  user,\n  height = 400,\n  preview = false,\n  defaultTab = \"\",\n  version = 2,\n  themeId = \"dark\",\n}) => (\n  <Integration src=\"https://production-assets.codepen.io/assets/embed/ei.js\">\n    <Loading>Loading...</Loading>\n\n    <Error>Something went wrong</Error>\n\n    <Initial>\n      <p\n        data-height={height}\n        data-theme-id={themeId}\n        data-slug-hash={slug}\n        data-default-tab={defaultTab}\n        data-user={user}\n        data-embed-version={version}\n        data-pen-title={title}\n        data-preview={preview}\n        className=\"codepen\"\n      >\n        See the Pen{\" \"}\n        <a href={`https://codepen.io/${user}/pen/${slug}/`}>{title}</a>\n        by {user} (<a href={`https://codepen.io/${user}`}>@{user}</a>) on{\" \"}\n        <a href=\"https://codepen.io\">CodePen</a>.\n      </p>\n    </Initial>\n  </Integration>\n)\n","import React from \"react\"\nimport {\n  Integration,\n  Initial,\n  Loading,\n} from \"@jeetiss/react-any-integrate\"\n\nexport const HelloWorld = () => (\n  <Integration src=\"./hello-script.js\">\n    <Loading>Loading...</Loading>\n\n    <Initial>\n      <div id=\"hello\" />\n    </Initial>\n  </Integration>\n)\n","import React, { useEffect } from \"react\"\nimport {\n  Integration,\n  Initial,\n  Loading,\n} from \"@jeetiss/react-any-integrate\"\n\nexport const Widget = () => {\n  useEffect(() => {\n    window.UPLOADCARE_PUBLIC_KEY = \"demopublickey\"\n  })\n\n  return (\n    <Integration src=\"https://ucarecdn.com/libs/widget/3.7.4/uploadcare.full.min.js\">\n      <Loading>Loading...</Loading>\n\n      <Initial>\n        <input type=\"hidden\" role=\"uploadcare-uploader\" data-clearable />\n      </Initial>\n    </Integration>\n  )\n}\n","import React from \"react\"\nimport {\n  Integration,\n  Initial,\n  Error,\n  Loading,\n} from \"@jeetiss/react-any-integrate\"\n\n\nexport const WithError = () => (\n  <Integration src=\"//example.com/nope.js\">\n    <Loading>Loading...</Loading>\n\n    <Error>File not found</Error>\n\n    <Initial><span /></Initial>\n  </Integration>\n)\n","import React from \"react\"\nimport {\n  Integration,\n  Initial,\n  Loading,\n} from \"@jeetiss/react-any-integrate\"\n\nexport const ZapBook = ({ zaps }) => (\n  <Integration\n    src={`https://zapier.com/zapbook/embed/widget.js?guided_zaps=${zaps.join(\n      \",\"\n    )}&html_id=zap`}\n  >\n    <Loading>Loading...</Loading>\n\n    <Initial>\n      <div id=\"zap\" />\n    </Initial>\n  </Integration>\n)\n","import React from \"react\"\nimport {\n  HelloWorld,\n  CodePen,\n  ZapBook,\n  Widget,\n  WithError,\n} from \"../integrations\"\n\nconst IndexPage = () => (\n  <main style={{ maxWidth: \"700px\", margin: \"0 auto 300px auto\" }}>\n    <h1>React-any-integrate examples</h1>\n\n    <h2>Hello world</h2>\n\n    <HelloWorld />\n\n    <h2>Code Pen</h2>\n\n    <CodePen slug=\"EzEjvZ\" user=\"dsenneff\" />\n\n    <h2>Zapier</h2>\n\n    <ZapBook zaps={[12, 600, 322]} />\n\n    <h2>Uploadcare Widget</h2>\n\n    <Widget />\n\n    <h2>Handle Errors</h2>\n\n    <WithError />\n  </main>\n)\n\nexport default IndexPage\n"],"sourceRoot":""}